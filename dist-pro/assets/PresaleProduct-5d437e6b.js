import{G as e,H as s,I as a,J as t,d as l,K as i,L as o,M as r,N as u,o as p,c as n,O as d,n as c,a as v,P as m,Q as f,r as y,R as S,z as _,S as h,y as g,q as V,U as x,f as b,V as j,i as k,w as C,W as w,X as E,e as $,Y as U,Z as P,t as D,A as B,$ as N,a0 as W,x as z,B as H,F as I,C as A}from"./index-4e0241ab.js";import{E as J}from"./el-button-f12da934.js";/* empty css                     */import{C as M,E as O}from"./el-input-5f5ba53b.js";import{E as Q}from"./el-radio-d3e0245e.js";import{_ as q}from"./ContentWrap.vue_vue_type_script_setup_true_lang-db38c2c3.js";import"./Editor-22f3be14.js";import{E as F,a as G}from"./index-b3b3abbe.js";import{f as K}from"./vnode-c3126f89.js";import"./use-form-item-01cc8473.js";import"./constants-69e1005b.js";import"./use-form-common-props-e540a29c.js";import"./el-card-32393834.js";import"./el-popper-5a8a2dfc.js";import"./castArray-e506ed2d.js";const L=(a,t)=>{const l={},i=e([]);return{children:i,addChild:e=>{l[e.uid]=e,i.value=((e,a,t)=>K(e.subTree).filter((e=>{var t;return s(e)&&(null==(t=e.type)?void 0:t.name)===a&&!!e.component})).map((e=>e.component.uid)).map((e=>t[e])).filter((e=>!!e)))(a,t,l)},removeChild:e=>{delete l[e],i.value=i.value.filter((s=>s.uid!==e))}}},R=a({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),T={[M]:(e,s)=>[e,s].every(t)},X=l({name:"ElSteps"});var Y=m(l({...X,props:R,emits:T,setup(e,{emit:s}){const a=e,t=i("steps"),{children:l,addChild:m,removeChild:f}=L(o(),"ElStep");return r(l,(()=>{l.value.forEach(((e,s)=>{e.setIndex(s)}))})),u("ElSteps",{props:a,steps:l,addStep:m,removeStep:f}),r((()=>a.active),((e,a)=>{s(M,e,a)})),(e,s)=>(p(),n("div",{class:c([v(t).b(),v(t).m(e.simple?"simple":e.direction)])},[d(e.$slots,"default")],2))}}),[["__file","steps.vue"]]);const Z=a({title:{type:String,default:""},icon:{type:f},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),ee=l({name:"ElStep"});var se=m(l({...ee,props:Z,setup(e){const s=e,a=i("step"),l=y(-1),u=y({}),m=y(""),f=S("ElSteps"),N=o();_((()=>{r([()=>f.props.active,()=>f.props.processStatus,()=>f.props.finishStatus],(([e])=>{F(e)}),{immediate:!0})})),h((()=>{f.removeStep(G.uid)}));const W=g((()=>s.status||m.value)),z=g((()=>{const e=f.steps.value[l.value-1];return e?e.currentStatus:"wait"})),H=g((()=>f.props.alignCenter)),I=g((()=>"vertical"===f.props.direction)),A=g((()=>f.props.simple)),J=g((()=>f.steps.value.length)),M=g((()=>{var e;return(null==(e=f.steps.value[J.value-1])?void 0:e.uid)===(null==N?void 0:N.uid)})),O=g((()=>A.value?"":f.props.space)),Q=g((()=>[a.b(),a.is(A.value?"simple":f.props.direction),a.is("flex",M.value&&!O.value&&!H.value),a.is("center",H.value&&!I.value&&!A.value)])),q=g((()=>{const e={flexBasis:t(O.value)?`${O.value}px`:O.value?O.value:100/(J.value-(H.value?0:1))+"%"};return I.value||M.value&&(e.maxWidth=100/J.value+"%"),e})),F=e=>{e>l.value?m.value=f.props.finishStatus:e===l.value&&"error"!==z.value?m.value=f.props.processStatus:m.value="wait";const s=f.steps.value[l.value-1];s&&s.calcProgress(m.value)},G=V({uid:N.uid,currentStatus:W,setIndex:e=>{l.value=e},calcProgress:e=>{const s="wait"===e,a={transitionDelay:`${s?"-":""}${150*l.value}ms`},t=e===f.props.processStatus||s?0:100;a.borderWidth=t&&!A.value?"1px":0,a["vertical"===f.props.direction?"height":"width"]=`${t}%`,u.value=a}});return f.addStep(G),(e,s)=>(p(),n("div",{style:j(v(q)),class:c(v(Q))},[x(" icon & line "),b("div",{class:c([v(a).e("head"),v(a).is(v(W))])},[v(A)?x("v-if",!0):(p(),n("div",{key:0,class:c(v(a).e("line"))},[b("i",{class:c(v(a).e("line-inner")),style:j(u.value)},null,6)],2)),b("div",{class:c([v(a).e("icon"),v(a).is(e.icon||e.$slots.icon?"icon":"text")])},[d(e.$slots,"icon",{},(()=>[e.icon?(p(),k(v(E),{key:0,class:c(v(a).e("icon-inner"))},{default:C((()=>[(p(),k(w(e.icon)))])),_:1},8,["class"])):"success"===v(W)?(p(),k(v(E),{key:1,class:c([v(a).e("icon-inner"),v(a).is("status")])},{default:C((()=>[$(v(U))])),_:1},8,["class"])):"error"===v(W)?(p(),k(v(E),{key:2,class:c([v(a).e("icon-inner"),v(a).is("status")])},{default:C((()=>[$(v(P))])),_:1},8,["class"])):v(A)?x("v-if",!0):(p(),n("div",{key:3,class:c(v(a).e("icon-inner"))},D(l.value+1),3))]))],2)],2),x(" title & description "),b("div",{class:c(v(a).e("main"))},[b("div",{class:c([v(a).e("title"),v(a).is(v(W))])},[d(e.$slots,"title",{},(()=>[B(D(e.title),1)]))],2),v(A)?(p(),n("div",{key:0,class:c(v(a).e("arrow"))},null,2)):(p(),n("div",{key:1,class:c([v(a).e("description"),v(a).is(v(W))])},[d(e.$slots,"description",{},(()=>[B(D(e.description),1)]))],2))],2)],6))}}),[["__file","item.vue"]]);const ae=N(Y,{Step:se}),te=W(se),le={__name:"PresaleProduct",setup(e){const{copy:s}=z();y("<p>Hello, world!</p>"),y(null);const a=V({presaleData:[{text:"",date:""},{text:"",date:""},{text:"",date:""}],title:"",description:"",progress:1,radio:"1"}),t=()=>{s(JSON.stringify({...a,presaleData:a.presaleData.filter((e=>e.text||e.date))})),A({message:"复制成功！",type:"success"})};return(e,s)=>(p(),k(v(q),{title:"生成预售信息"},{default:C((()=>[$(v(J),{type:"success",onClick:t},{default:C((()=>[B("复制代码")])),_:1}),$(v(G),{labelPosition:"top"},{default:C((()=>[$(v(F),{label:"预售信息类型"},{default:C((()=>[$(v(Q),{modelValue:a.radio,"onUpdate:modelValue":s[0]||(s[0]=e=>a.radio=e),label:"1"},{default:C((()=>[B("商品预售")])),_:1},8,["modelValue"]),$(v(Q),{modelValue:a.radio,"onUpdate:modelValue":s[1]||(s[1]=e=>a.radio=e),label:"2"},{default:C((()=>[B("商品缺货")])),_:1},8,["modelValue"])])),_:1}),$(v(F),{label:"预售信息标题"},{default:C((()=>[$(v(O),{modelValue:a.title,"onUpdate:modelValue":s[2]||(s[2]=e=>a.title=e)},null,8,["modelValue"])])),_:1}),$(v(F),{label:"预售信息描述"},{default:C((()=>[$(v(O),{modelValue:a.description,"onUpdate:modelValue":s[3]||(s[3]=e=>a.description=e)},null,8,["modelValue"])])),_:1}),(p(!0),n(I,null,H(a.presaleData,((e,s)=>(p(),n("div",{key:s,class:"flex gap-10"},[$(v(F),{label:"进度文案"+(s+1),class:"items-start"},{default:C((()=>[$(v(O),{modelValue:e.text,"onUpdate:modelValue":s=>e.text=s},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),$(v(F),{label:"进度时间"+(s+1)},{default:C((()=>[$(v(O),{modelValue:e.date,"onUpdate:modelValue":s=>e.date=s},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])])))),128)),$(v(F),{label:"进度控制"},{default:C((()=>[$(v(ae),{active:a.progress,"finish-status":"success",style:{width:"100%"}},{default:C((()=>[$(v(te),{title:"步骤 1",onClick:s[4]||(s[4]=e=>a.progress="1")}),$(v(te),{title:"步骤 2",onClick:s[5]||(s[5]=e=>a.progress="2")}),$(v(te),{title:"步骤 3",onClick:s[6]||(s[6]=e=>a.progress="3")})])),_:1},8,["active"])])),_:1})])),_:1})])),_:1}))}};export{le as default};
