import{z as e,d as n,A as t,r as o,B as i,C as a,D as r,G as l,H as s,I as u,v as c,q as d,o as p,i as f,w as m,a as v,e as g,J as y,c as C,x as b,K as h,F as S,y as w}from"./index-9d549fd9.js";import{E as j}from"./el-button-24608b2a.js";import{E as _,a as V}from"./el-form-item-a59e17c6.js";import{E as k}from"./el-input-c0ee25c4.js";import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-778a907f.js";import"./use-form-item-684e4427.js";import"./constants-7fae2e2d.js";import"./use-form-common-props-fb387485.js";import"./castArray-e849f4d4.js";import"./el-popper-586d91b2.js";import"./el-card-43fcd2a1.js";var E,q=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],A=function(e){return-1!==q.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},O=function(n,t,o,i,a,r){i.setContent(r()),o.attrs["onUpdate:modelValue"]&&function(n,t,o,i){var a=n.modelEvents?n.modelEvents:null,r=Array.isArray(a)?a.join(" "):a;e(i,(function(e,t){o&&"string"==typeof e&&e!==t&&e!==o.getContent({format:n.outputFormat})&&o.setContent(e)})),o.on(r||"change input undo redo",(function(){t.emit("update:modelValue",o.getContent({format:n.outputFormat}))}))}(t,o,i,a),function(e,n,t){Object.keys(n).filter(A).forEach((function(o){var i=n[o];"function"==typeof i&&("onInit"===o?i(e,t):t.on(o.substring(2),(function(e){return i(e,t)})))}))}(n,o.attrs,i)},U=0,x=function(e){var n=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++U+String(n)},B=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},M=function(){return{listeners:[],scriptId:x("tiny-script"),scriptLoaded:!1}},P=(E=M(),{load:function(e,n,t){E.scriptLoaded?t():(E.listeners.push(t),e.getElementById(E.scriptId)||function(e,n,t,o){var i=n.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=t;var a=function(){i.removeEventListener("load",a),o()};i.addEventListener("load",a),n.head&&n.head.appendChild(i)}(E.scriptId,e,n,(function(){E.listeners.forEach((function(e){return e()})),E.scriptLoaded=!0})))},reinitialize:function(){E=M()}}),L=function(){var e="undefined"!=typeof window?window:global;return e&&e.tinymce?e.tinymce:null},F={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},I=globalThis&&globalThis.__assign||function(){return I=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},I.apply(this,arguments)},z=n({props:F,setup:function(n,c){var d=n.init?I({},n.init):{},p=t(n),f=p.disabled,m=p.modelValue,v=p.tagName,g=o(null),y=null,C=n.id||x("tiny-vue"),b=n.init&&n.init.inline||n.inline,h=!!c.attrs["onUpdate:modelValue"],S=!0,w=n.initialValue?n.initialValue:"",j="",_=function(){var e,t,o,i=(e=S,h?function(){return(null==m?void 0:m.value)?m.value:""}:function(){return e?w:j}),a=I(I({},d),{readonly:n.disabled,selector:"#"+C,plugins:(t=d.plugins,o=n.plugins,B(t).concat(B(o))),toolbar:n.toolbar||d.toolbar,inline:b,setup:function(e){y=e,e.on("init",(function(t){return O(t,n,c,e,m,i)})),"function"==typeof d.setup&&d.setup(e)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(g.value)&&(g.value.style.visibility=""),L().init(a),S=!1};e(f,(function(e){var n;null!==y&&("function"==typeof(null===(n=y.mode)||void 0===n?void 0:n.set)?y.mode.set(e?"readonly":"design"):y.setMode(e?"readonly":"design"))})),e(v,(function(e){var n;h||(j=y.getContent()),null===(n=L())||void 0===n||n.remove(y),i((function(){return _()}))})),a((function(){if(null!==L())_();else if(g.value&&g.value.ownerDocument){var e=n.cloudChannel?n.cloudChannel:"5",t=n.apiKey?n.apiKey:"no-api-key",o=null==n.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":n.tinymceScriptSrc;P.load(g.value.ownerDocument,o,_)}})),r((function(){null!==L()&&L().remove(y)})),b||(l((function(){S||_()})),s((function(){var e;h||(j=y.getContent()),null===(e=L())||void 0===e||e.remove(y)})));return c.expose({rerender:function(e){var n;j=y.getContent(),null===(n=L())||void 0===n||n.remove(y),d=I(I({},d),e),i((function(){return _()}))}}),function(){return b?function(e,n,t,o){return e(o||"div",{id:n,ref:t})}(u,C,g,n.tagName):u("textarea",{id:C,visibility:"hidden",ref:g})}}});const K={__name:"CreateFaq",setup(e){const{copy:n}=c();o("<p>Hello, world!</p>"),o(null);const t=d({faqs:[{question:"",answer:""}],title:""}),i=()=>{t.faqs.push({question:"",answer:""})},a=()=>{n(JSON.stringify(t)),w({message:"复制成功！",type:"success"})};return(e,n)=>(p(),f(v(D),{title:"生成faq"},{default:m((()=>[g(v(j),{type:"success",onClick:a},{default:m((()=>[y("复制代码")])),_:1}),g(v(V),null,{default:m((()=>[g(v(_),{label:"faq标题"},{default:m((()=>[g(v(k),{modelValue:t.title,"onUpdate:modelValue":n[0]||(n[0]=e=>t.title=e)},null,8,["modelValue"])])),_:1}),(p(!0),C(S,null,b(t.faqs,((e,n)=>(p(),C("div",{key:n,class:"flex gap-10"},[g(v(_),{label:"faq问题_"+(n+1),class:"items-start"},{default:m((()=>[g(v(k),{modelValue:e.question,"onUpdate:modelValue":n=>e.question=n},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),g(v(_),{label:"faq回答_"+(n+1)},{default:m((()=>[g(v(z),{"api-key":"5f47p1wt54p8ckewvz94czfhydfr04yfofzpngf56pgkdxgc",init:{height:200,width:400,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | bold | help | link"},modelValue:e.answer,"onUpdate:modelValue":n=>e.answer=n},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),g(v(j),{type:"danger",icon:v(h),round:"",onClick:e=>(e=>{t.faqs.splice(e,1)})(n)},null,8,["icon","onClick"])])))),128))])),_:1}),g(v(j),{type:"primary",onClick:i},{default:m((()=>[y("新增faq")])),_:1})])),_:1}))}};export{K as default};
