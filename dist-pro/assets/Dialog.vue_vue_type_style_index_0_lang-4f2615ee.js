import{I as e,Q as o,d as l,aF as a,R as s,y as t,o as n,c as r,f as i,O as c,n as d,a as u,t as f,e as p,w as v,i as y,W as m,X as g,U as b,V as h,P as x,cP as C,an as k,aT as w,L as $,cd as F,r as A,bB as B,aZ as I,M as R,a2 as _,z as D,cQ as S,cR as L,aS as j,b3 as E,K as M,N as O,ac as T,au as H,ax as z,aX as P,h as N,ce as V,$ as q,aj as U,ar as Z,cu as K,aa as Q,A as X,E as W}from"./index-3fb8b7cb.js";import{u as G,a as J,E as Y,b as ee}from"./el-overlay-88072289.js";import{F as oe,i as le,d as ae}from"./el-popper-ae3c2a98.js";import{c as se}from"./refs-5d4c36fc.js";import{U as te}from"./el-input-0a2e7312.js";import{u as ne}from"./constants-dd7cca19.js";import{u as re}from"./el-button-fe6fa859.js";const ie=Symbol("dialogInjectionKey"),ce=e({center:Boolean,alignCenter:Boolean,closeIcon:{type:o},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),de=["aria-level"],ue=["aria-label"],fe=["id"],pe=l({name:"ElDialogContent"});var ve=x(l({...pe,props:ce,emits:{close:()=>!0},setup(e){const o=e,{t:l}=a(),{Close:x}=C,{dialogRef:k,headerRef:w,bodyId:$,ns:F,style:A}=s(ie),{focusTrapRef:B}=s(oe),I=t((()=>[F.b(),F.is("fullscreen",o.fullscreen),F.is("draggable",o.draggable),F.is("align-center",o.alignCenter),{[F.m("center")]:o.center}])),R=se(B,k),_=t((()=>o.draggable)),D=t((()=>o.overflow));return G(k,w,_,D),(e,o)=>(n(),r("div",{ref:u(R),class:d(u(I)),style:h(u(A)),tabindex:"-1"},[i("header",{ref_key:"headerRef",ref:w,class:d([u(F).e("header"),{"show-close":e.showClose}])},[c(e.$slots,"header",{},(()=>[i("span",{role:"heading","aria-level":e.ariaLevel,class:d(u(F).e("title"))},f(e.title),11,de)])),e.showClose?(n(),r("button",{key:0,"aria-label":u(l)("el.dialog.close"),class:d(u(F).e("headerbtn")),type:"button",onClick:o[0]||(o[0]=o=>e.$emit("close"))},[p(u(g),{class:d(u(F).e("close"))},{default:v((()=>[(n(),y(m(e.closeIcon||u(x))))])),_:1},8,["class"])],10,ue)):b("v-if",!0)],2),i("div",{id:u($),class:d(u(F).e("body"))},[c(e.$slots,"default")],10,fe),e.$slots.footer?(n(),r("footer",{key:0,class:d(u(F).e("footer"))},[c(e.$slots,"footer")],2)):b("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const ye=e({...ce,appendToBody:Boolean,appendTo:{type:k(String),default:"body"},beforeClose:{type:k(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),me={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[te]:e=>w(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ge=(e,o)=>{var l;const a=$().emit,{nextZIndex:s}=F();let n="";const r=ne(),i=ne(),c=A(!1),d=A(!1),u=A(!1),f=A(null!=(l=e.zIndex)?l:s());let p,v;const y=B("namespace",S),m=t((()=>{const o={},l=`--${y.value}-dialog`;return e.fullscreen||(e.top&&(o[`${l}-margin-top`]=e.top),e.width&&(o[`${l}-width`]=I(e.width))),o})),g=t((()=>e.alignCenter?{display:"flex"}:{}));function b(){null==v||v(),null==p||p(),e.openDelay&&e.openDelay>0?({stop:p}=L((()=>C()),e.openDelay)):C()}function h(){null==p||p(),null==v||v(),e.closeDelay&&e.closeDelay>0?({stop:v}=L((()=>k()),e.closeDelay)):k()}function x(){e.beforeClose?e.beforeClose((function(e){e||(d.value=!0,c.value=!1)})):h()}function C(){j&&(c.value=!0)}function k(){c.value=!1}return e.lockScroll&&J(c),R((()=>e.modelValue),(l=>{l?(d.value=!1,b(),u.value=!0,f.value=le(e.zIndex)?s():f.value++,_((()=>{a("open"),o.value&&(o.value.scrollTop=0)}))):c.value&&h()})),R((()=>e.fullscreen),(e=>{o.value&&(e?(n=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=n)})),D((()=>{e.modelValue&&(c.value=!0,u.value=!0,b())})),{afterEnter:function(){a("opened")},afterLeave:function(){a("closed"),a(te,!1),e.destroyOnClose&&(u.value=!1)},beforeLeave:function(){a("close")},handleClose:x,onModalClick:function(){e.closeOnClickModal&&x()},close:h,doClose:k,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&x()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:r,bodyId:i,closed:d,style:m,overlayDialogStyle:g,rendered:u,visible:c,zIndex:f}},be=["aria-label","aria-labelledby","aria-describedby"],he=l({name:"ElDialog",inheritAttrs:!1});const xe=q(x(l({...he,props:ye,emits:me,setup(e,{expose:o}){const l=e,a=E();re({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},t((()=>!!a.title)));const s=M("dialog"),r=A(),f=A(),m=A(),{visible:g,titleId:x,bodyId:C,style:k,overlayDialogStyle:w,rendered:$,zIndex:F,afterEnter:B,afterLeave:I,beforeLeave:R,handleClose:_,onModalClick:D,onOpenAutoFocus:S,onCloseAutoFocus:L,onCloseRequested:j,onFocusoutPrevented:q}=ge(l,r);O(ie,{dialogRef:r,headerRef:f,bodyId:C,ns:s,rendered:$,style:k});const U=ee(D),Z=t((()=>l.draggable&&!l.fullscreen));return o({visible:g,dialogContentRef:m}),(e,o)=>(n(),y(V,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[p(N,{name:"dialog-fade",onAfterEnter:u(B),onAfterLeave:u(I),onBeforeLeave:u(R),persisted:""},{default:v((()=>[T(p(u(Y),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":u(F)},{default:v((()=>[i("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:u(x),"aria-describedby":u(C),class:d(`${u(s).namespace.value}-overlay-dialog`),style:h(u(w)),onClick:o[0]||(o[0]=(...e)=>u(U).onClick&&u(U).onClick(...e)),onMousedown:o[1]||(o[1]=(...e)=>u(U).onMousedown&&u(U).onMousedown(...e)),onMouseup:o[2]||(o[2]=(...e)=>u(U).onMouseup&&u(U).onMouseup(...e))},[p(u(ae),{loop:"",trapped:u(g),"focus-start-el":"container",onFocusAfterTrapped:u(S),onFocusAfterReleased:u(L),onFocusoutPrevented:u(q),onReleaseRequested:u(j)},{default:v((()=>[u($)?(n(),y(ve,H({key:0,ref_key:"dialogContentRef",ref:m},e.$attrs,{center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:u(Z),overflow:e.overflow,fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:u(_)}),z({header:v((()=>[e.$slots.title?c(e.$slots,"title",{key:1}):c(e.$slots,"header",{key:0,close:u(_),titleId:u(x),titleClass:u(s).e("title")})])),default:v((()=>[c(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:v((()=>[c(e.$slots,"footer")]))}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):b("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,be)])),_:3},8,["mask","overlay-class","z-index"]),[[P,u(g)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}}),[["__file","dialog.vue"]])),Ce={class:"flex justify-between items-center h-54px pl-15px pr-15px relative"},ke={class:"h-54px flex justify-between items-center absolute top-[50%] right-15px translate-y-[-50%]"},we=l({__name:"Dialog",props:{modelValue:U.bool.def(!1),title:U.string.def("Dialog"),fullscreen:U.bool.def(!0),maxHeight:U.oneOfType([String,Number]).def("400px")},setup(e){const o=e,l=E(),a=t((()=>{const e=["fullscreen","title","maxHeight"],l={...Z(),...o};for(const o in l)-1!==e.indexOf(o)&&delete l[o];return l})),s=A(!1),r=()=>{s.value=!u(s)},d=A(K(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight);R((()=>s.value),(async e=>{if(await _(),e){const e=document.documentElement.offsetHeight;d.value=e-55-60-(l.footer?63:0)+"px"}else d.value=K(o.maxHeight)?`${o.maxHeight}px`:o.maxHeight}),{immediate:!0});const m=t((()=>({height:u(d)})));return(o,t)=>{const d=Q("Icon");return n(),y(u(xe),H(a.value,{fullscreen:s.value,"destroy-on-close":"","lock-scroll":"",draggable:"",top:"0","close-on-click-modal":!1,"show-close":!1}),z({header:v((({close:l})=>[i("div",Ce,[c(o.$slots,"title",{},(()=>[X(f(e.title),1)])),i("div",ke,[e.fullscreen?(n(),y(d,{key:0,class:"cursor-pointer is-hover !h-54px mr-10px",icon:s.value?"radix-icons:exit-full-screen":"radix-icons:enter-full-screen",color:"var(--el-color-info)","hover-color":"var(--el-color-primary)",onClick:r},null,8,["icon"])):b("",!0),p(d,{class:"cursor-pointer is-hover !h-54px",icon:"ep:close","hover-color":"var(--el-color-primary)",color:"var(--el-color-info)",onClick:l},null,8,["onClick"])])])])),default:v((()=>[p(u(W),{style:h(m.value)},{default:v((()=>[c(o.$slots,"default")])),_:3},8,["style"])])),_:2},[u(l).footer?{name:"footer",fn:v((()=>[c(o.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen"])}}});export{we as _,me as a,ye as d,ge as u};
